{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/home-page-user.css' %}?v={{ timestamp }}">
    <link rel="stylesheet" href="{% static 'css/library-rule.css' %}?v={{ timestamp }}">
</head>
<body>
<div class="RuleGroup">
    <div class="header-search">
        <div class="rules-search">
            <div class="search-wrapper-rules">
                <span class="material-symbols-outlined search-icon-rules">search</span>
                <input class="search-input-rules" type="text" placeholder="Tìm kiếm trong nội quy..."/>
            </div>
        </div>

        <div class="rules-content">
            <section class="rules-section">
                <h3 class="rules-section-title">1. Quy định về thẻ thư viện</h3>
                <div class="rules-items">
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">credit_card</span>
                        <p class="rules-item-text">Độc giả phải có thẻ thư viện hợp lệ để mượn sách và sử
                            dụng các dịch vụ khác.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">no_accounts</span>
                        <p class="rules-item-text">Không cho người khác mượn thẻ thư viện. Mỗi độc giả chịu
                            trách nhiệm với các giao dịch được thực hiện bằng thẻ của mình.</p>
                    </div>
                    <div class="rules-item rules-item--warning">
                        <span class="material-symbols-outlined rules-item-icon">report</span>
                        <p class="rules-item-text">Trường hợp mất thẻ, độc giả phải báo ngay cho thư viện để
                            khóa thẻ và làm thủ tục cấp lại.</p>
                    </div>
                </div>
            </section>

            <section class="rules-section">
                <h3 class="rules-section-title">2. Quy định mượn sách</h3>
                <div class="rules-items">
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">inventory_2</span>
                        <p class="rules-item-text">Độc giả chỉ được mượn sách khi thư viện còn tài liệu
                            trong kho.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">library_books</span>
                        <p class="rules-item-text">Số lượng mượn tối đa là 05 cuốn sách trong một lần.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">event_available</span>
                        <p class="rules-item-text">Thời hạn mượn là 14 ngày. Có thể gia hạn nếu không có độc
                            giả khác đăng ký mượn.</p>
                    </div>
                    <div class="rules-item rules-item--danger">
                        <span class="material-symbols-outlined rules-item-icon">lock</span>
                        <p class="rules-item-text">Các loại sách đặc biệt (sách hiếm, tài liệu tham
                            khảo,...) không được phép mượn về.</p>
                    </div>
                </div>
            </section>

            <section class="rules-section">
                <h3 class="rules-section-title">3. Quy định trả sách</h3>
                <div class="rules-items">
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">assignment_return</span>
                        <p class="rules-item-text">Độc giả có trách nhiệm trả sách đúng hạn tại quầy thủ
                            thư.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">task_alt</span>
                        <p class="rules-item-text">Sách khi trả phải ở trong tình trạng nguyên vẹn như lúc
                            mượn.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">report_problem</span>
                        <p class="rules-item-text">Nếu phát hiện sách bị hư hỏng (rách, bẩn, mất trang)
                            trước khi mượn, cần báo ngay cho nhân viên thư viện.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">build_circle</span>
                        <p class="rules-item-text">Không tự ý sửa chữa, dán băng keo, hoặc làm thay đổi tình
                            trạng ban đầu của sách.</p>
                    </div>
                </div>
            </section>

            <section class="rules-section">
                <h3 class="rules-section-title">4. Phí phạt</h3>
                <div class="rules-items">
                    <div class="rules-item rules-item--warning">
                        <span class="material-symbols-outlined rules-item-icon">event_busy</span>
                        <p class="rules-item-text">Trả sách trễ hạn sẽ bị phạt theo quy định của thư viện
                            cho mỗi ngày quá hạn (3000đ/ngày).</p>
                    </div>
                    <div class="rules-item rules-item--danger">
                        <span class="material-symbols-outlined rules-item-icon">heart_broken</span>
                        <p class="rules-item-text">Trường hợp làm mất, hư hỏng hoặc rách sách, độc giả phải
                            bồi thường theo giá trị của sách hoặc thay thế bằng một cuốn sách tương tự.</p>
                    </div>
                </div>
            </section>

            <section class="rules-section">
                <h3 class="rules-section-title">5. Quy định trong thư viện</h3>
                <div class="rules-items">
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">quiet_time</span>
                        <p class="rules-item-text">Giữ trật tự, im lặng, đi nhẹ, nói khẽ để không làm ảnh
                            hưởng đến người khác.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">no_food</span>
                        <p class="rules-item-text">Không mang đồ ăn, thức uống vào khu vực đọc sách.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">wrong_location</span>
                        <p class="rules-item-text">Không tự ý xếp sách lên kệ. Sách sau khi đọc xong vui
                            lòng để tại xe đẩy hoặc nơi quy định.</p>
                    </div>
                    <div class="rules-item">
                        <span class="material-symbols-outlined rules-item-icon">edit_off</span>
                        <p class="rules-item-text">Không viết, vẽ, gạch dưới hoặc làm hỏng tài liệu và tài
                            sản của thư viện.</p>
                    </div>
                </div>
            </section>

            <section class="rules-section">
                <h3 class="rules-section-title">6. Liên hệ hỗ trợ</h3>
                <div class="rules-items">
                    <div class="rules-item rules-item--info">
                        <span class="material-symbols-outlined rules-item-icon">support_agent</span>
                        <p class="rules-item-text">Mọi thắc mắc hoặc cần hỗ trợ, vui lòng liên hệ nhân viên
                            tại quầy, hoặc qua các kênh sau:</p>
                    </div>
                </div>
                <div class="contact-grid">
                    <div class="contact-item">
                        <span class="material-symbols-outlined contact-icon">chat</span>
                        <span class="contact-text">Zalo: 090 xxx xxxx</span>
                    </div>
                    <div class="contact-item">
                        <span class="material-symbols-outlined contact-icon">call</span>
                        <span class="contact-text">Điện thoại: (028) xxxx xxxx</span>
                    </div>
                    <div class="contact-item contact-item--full">
                        <span class="material-symbols-outlined contact-icon">mail</span>
                        <span class="contact-text">Email: support@library.com</span>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.querySelector('.search-input-rules');
        const sections = document.querySelectorAll('.rules-section');

        searchInput.addEventListener('input', function () {
            const query = this.value.toLowerCase().trim();

            sections.forEach(section => {
                const title = section.querySelector('.rules-section-title').textContent.toLowerCase();
                const items = section.querySelectorAll('.rules-item');
                let hasMatch = false;

                // Kiểm tra nội dung các mục bên trong
                items.forEach(item => {
                    if (item.querySelector('.rules-item-text').textContent.toLowerCase().includes(query)) {
                        hasMatch = true;
                    }
                });

                // Kiểm tra tiêu đề
                if (title.includes(query)) {
                    hasMatch = true;
                }

                // Điều khiển hiệu ứng bằng cách thêm/xóa class
                if (query === "" || hasMatch) {
                    // Hiện phần này ra mượt mà
                    section.classList.remove('hidden-rule');
                    // Đảm bảo các ô bên trong luôn hiện (giữ bố cục bình thường)
                    items.forEach(item => item.style.display = 'flex');
                } else {
                    // Ẩn phần này đi mượt mà
                    section.classList.add('hidden-rule');
                }
            });
        });
    });
</script>
</body>
</html>